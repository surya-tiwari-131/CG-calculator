<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVNIT First Semester CGPA Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;900&display=swap');
        
        :root {
            --primary: #10b981;
            --primary-glow: rgba(16, 185, 129, 0.4);
            --accent: #3b82f6;
            --bg-dark: #020617;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background-color: var(--bg-dark);
            background-image: 
                radial-gradient(circle at 0% 0%, rgba(16, 185, 129, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 100% 100%, rgba(59, 130, 246, 0.08) 0%, transparent 50%);
            min-height: 100vh;
            color: #f8fafc;
            overflow-x: hidden;
        }

        .glass-panel {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .subject-card {
            background: rgba(30, 41, 59, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.03);
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            position: relative;
            overflow: hidden;
        }

        .subject-card:hover {
            background: rgba(30, 41, 59, 0.6);
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px -10px var(--primary-glow);
        }

        .subject-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 2px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .subject-card:hover::before {
            opacity: 1;
        }

        .credit-badge {
            background: rgba(16, 185, 129, 0.1);
            color: #34d399;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .btn-main {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
            transition: all 0.3s ease;
        }

        .btn-main:hover {
            box-shadow: 0 0 35px rgba(16, 185, 129, 0.5);
            transform: scale(1.02) translateY(-2px);
        }

        .surya-badge {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid #10b981;
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.2);
            animation: softPulse 3s infinite;
        }

        @keyframes softPulse {
            0%, 100% { opacity: 0.8; box-shadow: 0 0 10px rgba(16, 185, 129, 0.1); }
            50% { opacity: 1; box-shadow: 0 0 20px rgba(16, 185, 129, 0.4); }
        }

        .electric-text {
            text-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }

        select {
            background-color: #0f172a !important;
            border: 1px solid #334155 !important;
            color: #f1f5f9 !important;
            cursor: pointer;
        }

        select:focus {
            border-color: #10b981 !important;
            ring: 2px solid rgba(16, 185, 129, 0.2);
        }

        /* Animated Grid Lines */
        .grid-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: 
                linear-gradient(rgba(16, 185, 129, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(16, 185, 129, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: -1;
        }
    </style>
</head>
<body class="p-4 md:p-12 relative">
    <div class="grid-bg"></div>

    <div class="max-w-5xl mx-auto glass-panel p-8 md:p-14 rounded-[3rem] relative">
        <!-- Prominent Surya Highlighting -->
        <div class="absolute top-8 right-8 z-10">
            <div class="surya-badge px-4 py-1.5 rounded-full flex items-center gap-2">
                <span class="w-1.5 h-1.5 bg-emerald-400 rounded-full animate-ping"></span>
                <span class="text-[11px] font-black uppercase tracking-widest text-emerald-400">Data input by surya</span>
            </div>
        </div>

        <header class="text-center mb-16">
            <div class="inline-flex items-center gap-3 px-5 py-2 rounded-full bg-emerald-950/30 border border-emerald-500/20 text-emerald-400 text-xs font-bold uppercase tracking-[0.3em] mb-6">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
                Electrical Engineering Console
            </div>
            <h1 class="text-6xl md:text-7xl font-black text-white tracking-tighter mb-4">SVNIT <span class="text-emerald-500 italic">SURAT</span></h1>
            <p class="text-slate-400 text-lg font-light tracking-wide max-w-xl mx-auto uppercase">B.Tech Semester I CGPA Analyzer</p>
        </header>

        <div id="calculator-form" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Basic Electrical -->
            <div class="subject-card p-6 rounded-3xl group">
                <div class="flex justify-between items-start mb-6">
                    <h3 class="font-bold text-white text-lg">BEE (EE101)</h3>
                    <div class="p-2 rounded-lg bg-emerald-500/10 text-emerald-500">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
                    </div>
                </div>
                <div class="space-y-4">
                    <div>
                        <div class="flex justify-between mb-1">
                            <label class="text-[10px] font-bold text-slate-500 uppercase">Theory</label>
                            <span class="text-[9px] credit-badge px-2 rounded-full">4.0 Credits</span>
                        </div>
                        <select id="bee_t" class="grade-input w-full p-3 rounded-xl outline-none transition-all" data-credits="4">
                            <option value="10">AA</option><option value="9">AB</option><option value="8" selected>BB</option><option value="7">BC</option><option value="6">CC</option><option value="5">CD</option><option value="4">DD</option><option value="0">FF</option>
                        </select>
                    </div>
                    <div>
                        <div class="flex justify-between mb-1">
                            <label class="text-[10px] font-bold text-slate-500 uppercase">Practical</label>
                            <span class="text-[9px] credit-badge px-2 rounded-full">1.0 Credits</span>
                        </div>
                        <select id="bee_p" class="grade-input w-full p-3 rounded-xl outline-none transition-all" data-credits="1">
                            <option value="10">AA</option><option value="9" selected>AB</option><option value="8">BB</option><option value="7">BC</option><option value="6">CC</option><option value="5">CD</option><option value="4">DD</option><option value="0">FF</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Engineering Drawing -->
            <div class="subject-card p-6 rounded-3xl group">
                <div class="flex justify-between items-start mb-6">
                    <h3 class="font-bold text-white text-lg">ED (ME110)</h3>
                    <div class="p-2 rounded-lg bg-emerald-500/10 text-emerald-500">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/></svg>
                    </div>
                </div>
                <div class="space-y-4">
                    <div>
                        <div class="flex justify-between mb-1">
                            <label class="text-[10px] font-bold text-slate-500 uppercase">Theory</label>
                            <span class="text-[9px] credit-badge px-2 rounded-full">2.0 Credits</span>
                        </div>
                        <select id="ed_t" class="grade-input w-full p-3 rounded-xl outline-none transition-all" data-credits="2">
                            <option value="10">AA</option><option value="9">AB</option><option value="8" selected>BB</option><option value="7">BC</option><option value="6">CC</option><option value="5">CD</option><option value="4">DD</option><option value="0">FF</option>
                        </select>
                    </div>
                    <div>
                        <div class="flex justify-between mb-1">
                            <label class="text-[10px] font-bold text-slate-500 uppercase">Practical</label>
                            <span class="text-[9px] credit-badge px-2 rounded-full">2.0 Credits</span>
                        </div>
                        <select id="ed_p" class="grade-input w-full p-3 rounded-xl outline-none transition-all" data-credits="2">
                            <option value="10" selected>AA</option><option value="9">AB</option><option value="8">BB</option><option value="7">BC</option><option value="6">CC</option><option value="5">CD</option><option value="4">DD</option><option value="0">FF</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Physics -->
            <div class="subject-card p-6 rounded-3xl group">
                <div class="flex justify-between items-start mb-6">
                    <h3 class="font-bold text-white text-lg">Physics (PH109)</h3>
                    <div class="p-2 rounded-lg bg-emerald-500/10 text-emerald-500">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.183.394l-1.141.76a2 2 0 000 3.328l1.141.76a2 2 0 001.183.394l2.535-.254a6 6 0 013.86-.517l.318-.158a6 6 0 003.86-.517l2.387.477a2 2 0 001.022-.547l1.141-.76a2 2 0 000-3.328l-1.141-.76z"/></svg>
                    </div>
                </div>
                <div class="space-y-4">
                    <div>
                        <div class="flex justify-between mb-1">
                            <label class="text-[10px] font-bold text-slate-500 uppercase">Theory</label>
                            <span class="text-[9px] credit-badge px-2 rounded-full">3.0 Credits</span>
                        </div>
                        <select id="ph_t" class="grade-input w-full p-3 rounded-xl outline-none transition-all" data-credits="3">
                            <option value="10" selected>AA</option><option value="9">AB</option><option value="8">BB</option><option value="7">BC</option><option value="6">CC</option><option value="5">CD</option><option value="4">DD</option><option value="0">FF</option>
                        </select>
                    </div>
                    <div>
                        <div class="flex justify-between mb-1">
                            <label class="text-[10px] font-bold text-slate-500 uppercase">Practical</label>
                            <span class="text-[9px] credit-badge px-2 rounded-full">1.0 Credits</span>
                        </div>
                        <select id="ph_p" class="grade-input w-full p-3 rounded-xl outline-none transition-all" data-credits="1">
                            <option value="10" selected>AA</option><option value="9">AB</option><option value="8">BB</option><option value="7">BC</option><option value="6">CC</option><option value="5">CD</option><option value="4">DD</option><option value="0">FF</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Maths -->
            <div class="subject-card p-6 rounded-3xl group">
                <div class="flex justify-between items-start mb-6">
                    <h3 class="font-bold text-white text-lg">Maths-I (MA113)</h3>
                    <div class="p-2 rounded-lg bg-emerald-500/10 text-emerald-500">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"/></svg>
                    </div>
                </div>
                <div class="space-y-4">
                    <div>
                        <div class="flex justify-between mb-1">
                            <label class="text-[10px] font-bold text-slate-500 uppercase">Overall</label>
                            <span class="text-[9px] credit-badge px-2 rounded-full">4.0 Credits</span>
                        </div>
                        <select id="ma_t" class="grade-input w-full p-3 rounded-xl outline-none transition-all" data-credits="4">
                            <option value="10">AA</option><option value="9">AB</option><option value="8" selected>BB</option><option value="7">BC</option><option value="6">CC</option><option value="5">CD</option><option value="4">DD</option><option value="0">FF</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- English -->
            <div class="subject-card p-6 rounded-3xl group">
                <div class="flex justify-between items-start mb-6">
                    <h3 class="font-bold text-white text-lg">English (HS110)</h3>
                    <div class="p-2 rounded-lg bg-emerald-500/10 text-emerald-500">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5a18.022 18.022 0 01-3.827-5.802M10.403 6.052a18.01 18.01 0 013.476 5.874M12 18.51a3.001 3.001 0 01-2.458-2.458M7.242 17.242a3 3 0 11-4.242-4.242M3 10.242a3 3 0 114.242 4.242M10.897 12.827a19.938 19.938 0 002.53-4.43m-3.116 1.262a18.978 18.978 0 00-2.134 4.39M8 11a1 1 0 010-2 1 1 0 010 2z"/></svg>
                    </div>
                </div>
                <div class="space-y-4">
                    <div>
                        <div class="flex justify-between mb-1">
                            <label class="text-[10px] font-bold text-slate-500 uppercase">Overall</label>
                            <span class="text-[9px] credit-badge px-2 rounded-full">4.0 Credits</span>
                        </div>
                        <select id="hs_t" class="grade-input w-full p-3 rounded-xl outline-none transition-all" data-credits="4">
                            <option value="10">AA</option><option value="9">AB</option><option value="8">BB</option><option value="7" selected>BC</option><option value="6">CC</option><option value="5">CD</option><option value="4">DD</option><option value="0">FF</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Empty slots for spacing on grid if needed -->
        </div>

        <div class="text-center mt-16">
            <button id="calculate-btn" class="btn-main text-slate-900 font-black py-5 px-20 rounded-2xl text-xl transition-all tracking-[0.3em] uppercase">
                Initialize Matrix
            </button>
        </div>

        <!-- Result -->
        <div id="result-card" class="hidden mt-16 p-14 border border-emerald-500/20 bg-emerald-500/5 rounded-[4rem] text-center relative overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent"></div>
            <h3 class="text-emerald-500 font-bold uppercase tracking-[0.5em] mb-4 text-sm">Calculated Outcome</h3>
            <div id="sgpa-display" class="text-[10rem] font-black text-white electric-text leading-none my-8">0.00</div>
            <div id="performance-msg" class="text-2xl font-bold tracking-tight text-emerald-300 mb-10"></div>
            
            <button id="ai-insights-btn" class="bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 px-10 rounded-2xl text-md transition-all flex items-center gap-3 mx-auto shadow-xl">
                <span class="tracking-widest uppercase">✨ Run AI Diagnostic</span>
                <div id="ai-loader" class="loader hidden"></div>
            </button>
        </div>

        <!-- AI Insights Content -->
        <div id="ai-insights-container" class="hidden mt-10 p-10 glass-panel border border-blue-500/30 rounded-[3rem] animate-in zoom-in duration-500">
            <div class="flex items-center gap-4 mb-6 text-blue-400">
                <div class="w-12 h-12 flex items-center justify-center bg-blue-500/20 rounded-2xl">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/></svg>
                </div>
                <h3 class="font-black text-2xl uppercase tracking-tighter">Roadmap Diagnostic</h3>
            </div>
            <div id="ai-response-text" class="text-slate-300 text-base leading-relaxed space-y-5 font-light">
                <!-- AI Response will go here -->
            </div>
        </div>

        <footer class="mt-24 pt-10 border-t border-slate-800/50 flex flex-col md:flex-row justify-between items-center gap-6">
            <p class="text-[10px] text-slate-500 uppercase tracking-[0.4em] font-bold">SVNIT Surat • Dept. of Electrical Engineering</p>
            <div class="flex items-center gap-3">
                <span class="text-[10px] text-slate-500 uppercase font-black">Architect:</span>
                <span class="text-[11px] text-emerald-400 font-black uppercase tracking-widest bg-emerald-500/10 px-3 py-1 rounded-md">Suryaprakash Tiwari</span>
            </div>
        </footer>
    </div>

    <script>
        const apiKey = ""; 

        async function getAIInsights(grades, sgpa) {
            const aiBtn = document.getElementById('ai-insights-btn');
            const aiLoader = document.getElementById('ai-loader');
            const container = document.getElementById('ai-insights-container');
            const responseText = document.getElementById('ai-response-text');

            aiBtn.disabled = true;
            aiLoader.classList.remove('hidden');
            
            const systemPrompt = "You are a senior academic mentor at SVNIT Surat, Electrical Engineering Department. Analyze a student's 1st-semester performance and suggest a strategic roadmap for the 2nd semester (Electrical Circuits EE102, Electronics Devices EC108, Programming CS110, Applied Thermal ME108, and Maths-II MA114). Use a supportive but highly technical 'engineer' tone. Refer to specific SVNIT course codes.";
            
            const userQuery = `My 1st sem SGPA is ${sgpa}. My grades are:
            BEE Theory: ${grades.bee_t}, BEE Practical: ${grades.bee_p}
            Physics Theory: ${grades.ph_t}, Physics Practical: ${grades.ph_p}
            Drawing Theory: ${grades.ed_t}, Drawing Practical: ${grades.ed_p}
            Maths-I: ${grades.ma_t}, English: ${grades.hs_t}.
            Give me a 'Roadmap Diagnostic' for Sem-II. Include 3 technical tips and one project idea that aligns with these grades. Keep it punchy and professional.`;

            let retries = 0;
            const maxRetries = 5;

            async function makeCall() {
                try {
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: userQuery }] }],
                            systemInstruction: { parts: [{ text: systemPrompt }] }
                        })
                    });

                    if (!response.ok) throw new Error('API request failed');

                    const data = await response.json();
                    const text = data.candidates?.[0]?.content?.parts?.[0]?.text || "Diagnostic failed to initialize. Re-running cycle...";
                    
                    container.classList.remove('hidden');
                    responseText.innerHTML = text
                        .replace(/\n\n/g, '<br><br>')
                        .replace(/\* \*\*(.*?)\*\*/g, '<br>• <strong class="text-blue-400">$1</strong>')
                        .replace(/\* (.*?)/g, '• $1');

                    container.scrollIntoView({ behavior: 'smooth' });
                } catch (error) {
                    if (retries < maxRetries) {
                        retries++;
                        const delay = Math.pow(2, retries) * 1000;
                        setTimeout(makeCall, delay);
                    } else {
                        responseText.innerHTML = "<span class='text-red-400'>CRITICAL SYSTEM ERROR: UNABLE TO REACH AI MENTOR.</span>";
                        container.classList.remove('hidden');
                    }
                } finally {
                    aiBtn.disabled = false;
                    aiLoader.classList.add('hidden');
                }
            }

            makeCall();
        }

        document.getElementById('calculate-btn').addEventListener('click', function() {
            const gradeInputs = document.querySelectorAll('.grade-input');
            let totalWeightedPoints = 0;
            let totalCredits = 0;

            gradeInputs.forEach(input => {
                const gradePoint = parseFloat(input.value);
                const credits = parseFloat(input.getAttribute('data-credits'));
                totalWeightedPoints += (gradePoint * credits);
                totalCredits += credits;
            });

            const sgpa = (totalWeightedPoints / totalCredits).toFixed(2);
            
            const resultCard = document.getElementById('result-card');
            const sgpaDisplay = document.getElementById('sgpa-display');
            const msgDisplay = document.getElementById('performance-msg');
            const aiContainer = document.getElementById('ai-insights-container');
            
            resultCard.classList.remove('hidden');
            aiContainer.classList.add('hidden'); 
            sgpaDisplay.textContent = sgpa;

            if (sgpa >= 9.0) msgDisplay.textContent = "SYSTEM STATUS: PEAK PERFORMANCE";
            else if (sgpa >= 8.0) msgDisplay.textContent = "SYSTEM STATUS: STABLE / OPTIMIZED";
            else if (sgpa >= 7.0) msgDisplay.textContent = "SYSTEM STATUS: FUNCTIONAL / MODERATE";
            else msgDisplay.textContent = "SYSTEM STATUS: LOW VOLTAGE / CRITICAL";

            resultCard.scrollIntoView({ behavior: 'smooth' });
        });

        document.getElementById('ai-insights-btn').addEventListener('click', function() {
            const getSelectedGrade = (id) => {
                const el = document.getElementById(id);
                return el.options[el.selectedIndex].text;
            };

            const grades = {
                bee_t: getSelectedGrade('bee_t'),
                bee_p: getSelectedGrade('bee_p'),
                ed_t: getSelectedGrade('ed_t'),
                ed_p: getSelectedGrade('ed_p'),
                ph_t: getSelectedGrade('ph_t'),
                ph_p: getSelectedGrade('ph_p'),
                ma_t: getSelectedGrade('ma_t'),
                hs_t: getSelectedGrade('hs_t'),
            };

            const sgpa = document.getElementById('sgpa-display').textContent;
            getAIInsights(grades, sgpa);
        });
    </script>
</body>
</html>
